# GitHub Codespaces Prebuild Configuration

# This configuration speeds up Codespace creation by pre-building the environment
# The prebuild runs on every push to main and can be manually triggered

version: 2

# Prebuild triggers
build:
  on:
    push:
      branches:
        - main
    schedule:
      # Run weekly on Monday at 2 AM UTC to keep prebuilds fresh
      - cron: "0 2 * * 1"

# Regions where prebuilds should be available
regions:
  - us-east
  - eu-west
  - asia-southeast

# Resources for prebuild
prebuildCommands:
  - npm install --legacy-peer-deps
  - ./scripts/build.sh
  - docker-compose -f docker-compose.codespaces.yml pull
